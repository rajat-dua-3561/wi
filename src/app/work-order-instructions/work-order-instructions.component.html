<div class="container">
  <!-- Header/Filter Section -->
  <div class="filters">
    <div class="filter-group">
      <div class="filter-item plant-dropdown" tabindex="0" (mousedown)="togglePlantDropdown()" (blur)="closePlantDropdown()">
        <label>Plant</label>
        <div class="custom-select" [class.open]="plantDropdownOpen">
          <span>{{ selectedPlant.name || '3100-Houston' }}</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-menu" *ngIf="plantDropdownOpen">
          <div 
            class="dropdown-item" 
            *ngFor="let plant of plants" 
            (mousedown)="selectPlant(plant); $event.stopPropagation()">
            {{ plant.name }}
          </div>
        </div>
      </div>

      <div class="filter-item plant-dropdown" tabindex="0" (mousedown)="toggleUnitDropdown()" (blur)="closeUnitDropdown()">
        <label>Unit</label>
        <div class="custom-select" [class.open]="unitDropdownOpen">
          <span>{{ selectedUnit.name || '3100-Houston' }}</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-menu" *ngIf="unitDropdownOpen">
          <div 
            class="dropdown-item" 
            *ngFor="let unit of units" 
            (mousedown)="selectUnit(unit); $event.stopPropagation()">
            {{ unit.name }}
          </div>
        </div>
      </div>
      
      <div class="filter-item plant-dropdown" tabindex="0" (mousedown)="toggleLocationDropdown()" (blur)="closeLocationDropdown()">
        <label>Location</label>
        <div class="custom-select" [class.open]="locationDropdownOpen">
          <span>{{ selectedLocation.name || '3100-Houston' }}</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-menu" *ngIf="locationDropdownOpen">
          <div 
            class="dropdown-item" 
            *ngFor="let location of locations" 
            (mousedown)="selectLocation(location); $event.stopPropagation()">
            {{ location.name }}
          </div>
        </div>
      </div>
      <div class="filter-item plant-dropdown" tabindex="0" (mousedown)="toggleAssetDropdown()" (blur)="closeAssetDropdown()">
        <label>Asset</label>
        <div class="custom-select" [class.open]="assetDropdownOpen">
          <span>{{ selectedAsset.name || 'Asset 1' }}</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-menu" *ngIf="assetDropdownOpen">
          <div
            class="dropdown-item"
            *ngFor="let asset of assets"
            (mousedown)="selectAsset(asset); $event.stopPropagation()">
            {{ asset.name }}
          </div>
        </div>
      </div>
      <div class="filter-item plant-dropdown" tabindex="0" (mousedown)="toggleCategoryDropdown()" (blur)="closeCategoryDropdown()">
        <label>Category</label>
        <div class="custom-select" [class.open]="categoryDropdownOpen">
          <span>{{ selectedCategory.name || 'All' }}</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-menu" *ngIf="categoryDropdownOpen">
          <div
            class="dropdown-item"
            *ngFor="let category of categories"
            (mousedown)="selectCategory(category); $event.stopPropagation()">
            {{ category.name }}
          </div>
        </div>
      </div>
    </div>
    <div class="search">
      <div class="search-input">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search...">
      </div>
      <button class="filter-button">
        <i class="fas fa-sliders-h"></i>
      </button>
    </div>
  </div>

  <!-- Create Options -->
  <div class="create-options">
    <div class="create-card" (click)="navigateToCreateFromVideo()">
      <span class="icon-bg">
        <img src="video.jpg" alt="Video Icon">
      </span>
      <h3>
        Create From Video
        <span class="star-badge"><i class="fas fa-star"></i></span>
      </h3>
      <p>Convert your video content into step-by-step work instructions</p>
    </div>
    <div class="create-card" (click)="navigateToCreateFromDocument()">
      <span class="icon-bg">
        <img src="document.jpg" alt="Document Icon">
      </span>
      <h3>
        Create From Document
        <span class="star-badge"><i class="fas fa-star"></i></span>
      </h3>
      <p>Import and convert existing documents into digital work instructions</p>
    </div>
    <div class="create-card" (click)="navigateToCreateFromScratch()">
      <span class="icon-bg">
        <img src="scratch.jpg" alt="Scratch Icon">
      </span>
      <h3>Create From Scratch</h3>
      <p>Create work instructions from scratch, tailored to your workflow</p>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab-buttons">
      <button *ngFor="let tab of tabs" 
              [class.active]="selectedTab === tab"
              (click)="selectedTab = tab">
        {{tab}}
      </button>
    </div>
  </div>

  <!-- Status Filters -->
  <div class="status-filters">
    <div class="status-buttons">
      <button [class.active]="selectedStatus === 'Published'" (click)="selectedStatus = 'Published'">Published</button>
      <button [class.active]="selectedStatus === 'Draft'" (click)="selectedStatus = 'Draft'">Draft</button>
      <button [class.active]="selectedStatus === 'Pending Review'" (click)="selectedStatus = 'Pending Review'">Pending Review</button>
      <button [class.active]="selectedStatus === 'Favourites'" (click)="selectedStatus = 'Favourites'">Favourites</button>
      <button [class.active]="selectedStatus === 'Archive'" (click)="selectedStatus = 'Archive'">Archive</button>
    </div>
    <div class="time-filters">
      <button [class.active]="selectedTime === 'Today'" (click)="selectedTime = 'Today'">Today</button>
      <button [class.active]="selectedTime === 'Yesterday'" (click)="selectedTime = 'Yesterday'">Yesterday</button>
      <button [class.active]="selectedTime === '7D'" (click)="selectedTime = '7D'">7D</button>
      <button [class.active]="selectedTime === '30D'" (click)="selectedTime = '30D'">30D</button>
      <button [class.active]="selectedTime === '3M'" (click)="selectedTime = '3M'">3M</button>
      <button [class.active]="selectedTime === '6M'" (click)="selectedTime = '6M'">6M</button>
      <button [class.active]="selectedTime === 'Custom'" (click)="selectedTime = 'Custom'">Custom</button>
      <button class="view-toggle" [class.active]="viewMode === 'list'" (click)="viewMode = 'list'">
        <img src="list-view.jpg" alt="list-view Placeholder" >
      </button>
      <button class="view-toggle" [class.active]="viewMode === 'grid'" (click)="viewMode = 'grid'">
        <img src="grid-view.jpg" alt="grid-view Placeholder" >
      </button>
    </div>
  </div>

  <!-- Work Order Grid -->
  <div class="work-order-grid">
    <div class="work-order-card" *ngFor="let order of filteredWorkOrders">
      <div class="card-image-wrapper">
        <img [src]="order.image" [alt]="order.title">
        <div class="card-hover-controls">
          <span class="favorite-star" [class.active]="order.favorite" (click)="toggleFavorite(order); $event.stopPropagation()">
            <img [src]="order.favorite ? 'star2.jpg' : 'non-star.jpg'" alt="Favorite">
          </span>
          <span class="card-menu">
            <i class="fas fa-ellipsis-h"></i>
          </span>
        </div>
      </div>
      <div class="card-content">
        <h4>{{order.title}}</h4>
        <span class="type-badge" [ngClass]="order.type | lowercase">{{order.type}}</span>
        <div class="card-footer">
          <div class="author">
            <i class="fas fa-user"></i>
            <span>{{order.author}}</span>
          </div>
          <div class="date-time">
            <i class="fas fa-calendar"></i>
            <span>{{order.date}}</span>
            <i class="fas fa-clock"></i>
            <span>{{order.time}}</span>
          </div>
          <div class="version">
            <i class="fas fa-code-branch"></i>
            <span>Version {{order.version}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 